{"version":3,"file":"microbundle.js","sources":["../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/lib/flow-plugin.js","../src/utils.js","../src/log-error.js","../src/index.js"],"sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = (function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof Symbol !== \"undefined\") {\n\t\tvar iteratorSymbol = Symbol.iterator;\n\t\tif (iteratorSymbol && (iteratorSymbol in target)) {\n\t\t\tvar iterator = target[iteratorSymbol](), step, pact, reject;\n\t\t\tfunction _cycle(result) {\n\t\t\t\ttry {\n\t\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (pact) {\n\t\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpact = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(pact || (pact = new Pact()), 2, e);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_cycle();\n\t\t\tif (iterator.return) {\n\t\t\t\tvar _fixup = function(value) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\t\titerator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\tif (pact && pact.then) {\n\t\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t_fixup();\n\t\t\t}\n\t\t\treturn pact;\n\t\t}\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"value is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof Symbol !== \"undefined\") {\n\t\tvar asyncIteratorSymbol = Symbol.asyncIterator;\n\t\tif (asyncIteratorSymbol && (asyncIteratorSymbol in target)) {\n\t\t\tvar pact = new _Pact();\n\t\t\tvar iterator = target[asyncIteratorSymbol]();\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t\treturn pact;\n\t\t\tfunction _resumeAfterBody(result) {\n\t\t\t\tif (check && !check()) {\n\t\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t\t}\n\t\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t\t}\n\t\t\tfunction _resumeAfterNext(step) {\n\t\t\t\tif (step.done) {\n\t\t\t\t\t_settle(pact, 1);\n\t\t\t\t} else {\n\t\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfunction _reject(error) {\n\t\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t\t}\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, value);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = (function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype[Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))] = function() {\n\t\treturn this;\n\t};\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\t_entry(_this).then(returnValue, function(error) {\n\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import flow from 'rollup-plugin-flow';\n\nexport default function fixedFlow(options) {\n\tlet plugin = flow(options);\n\treturn Object.assign({}, plugin, {\n\t\ttransform(code, id) {\n\t\t\tlet ret = plugin.transform(code, id);\n\t\t\tif (ret && ret.code === code) return null;\n\t\t\treturn ret;\n\t\t},\n\t});\n}\n","import fs from 'fs';\nimport { promisify } from 'es6-promisify';\n\nexport const readFile = promisify(fs.readFile);\n// export const writeFile = promisify(fs.writeFile);\nexport const stat = promisify(fs.stat);\nexport const isDir = name =>\n\tstat(name)\n\t\t.then(stats => stats.isDirectory())\n\t\t.catch(() => false);\nexport const isFile = name =>\n\tstat(name)\n\t\t.then(stats => stats.isFile())\n\t\t.catch(() => false);\nexport const stdout = console.log.bind(console); // eslint-disable-line no-console\nexport const stderr = console.error.bind(console);\n","import chalk from 'chalk';\nimport { stderr } from './utils';\n\nexport default function(err) {\n\tconst error = err.error || err;\n\tconst description = `${error.name ? error.name + ': ' : ''}${error.message ||\n\t\terror}`;\n\tconst message = error.plugin\n\t\t? `(${error.plugin} plugin) ${description}`\n\t\t: description;\n\n\tstderr(chalk.bold.red(message));\n\n\tif (error.loc) {\n\t\tstderr();\n\t\tstderr(`at ${error.loc.file}:${error.loc.line}:${error.loc.column}`);\n\t}\n\n\tif (error.frame) {\n\t\tstderr();\n\t\tstderr(chalk.dim(error.frame));\n\t} else if (err.stack) {\n\t\tconst headlessStack = error.stack.replace(message, '');\n\t\tstderr(chalk.dim(headlessStack));\n\t}\n\n\tstderr();\n}\n","import fs from 'fs';\nimport { resolve, relative, dirname, basename, extname } from 'path';\nimport chalk from 'chalk';\nimport { map, series } from 'asyncro';\nimport glob from 'tiny-glob/sync';\nimport autoprefixer from 'autoprefixer';\nimport cssnano from 'cssnano';\nimport { rollup, watch } from 'rollup';\nimport commonjs from 'rollup-plugin-commonjs';\nimport babel from 'rollup-plugin-babel';\nimport nodeResolve from 'rollup-plugin-node-resolve';\nimport buble from 'rollup-plugin-buble';\nimport { terser } from 'rollup-plugin-terser';\nimport alias from 'rollup-plugin-alias';\nimport postcss from 'rollup-plugin-postcss';\nimport gzipSize from 'gzip-size';\nimport brotliSize from 'brotli-size';\nimport prettyBytes from 'pretty-bytes';\nimport shebangPlugin from 'rollup-plugin-preserve-shebang';\nimport typescript from 'rollup-plugin-typescript2';\nimport json from 'rollup-plugin-json';\nimport flow from './lib/flow-plugin';\nimport logError from './log-error';\nimport { readFile, isDir, isFile, stdout, stderr } from './utils';\nimport camelCase from 'camelcase';\n\nconst removeScope = name => name.replace(/^@.*\\//, '');\n\n// Convert booleans and int define= values to literals.\n// This is more intuitive than `microbundle --define A=1` producing A=\"1\".\n// See: https://github.com/terser-js/terser#conditional-compilation-api\nconst toTerserLiteral = (value, name) => {\n\t// --define A=\"1\",B='true' produces string:\n\tconst matches = value.match(/^(['\"])(.+)\\1$/);\n\tif (matches) {\n\t\treturn [matches[2], name];\n\t}\n\n\t// --define A=1,B=true produces int/boolean literal:\n\tif (/^(true|false|\\d+)$/i.test(value)) {\n\t\treturn [value, '@' + name];\n\t}\n\n\t// default: behaviour from Terser (@prefix=1 produces expression/literal, unprefixed=1 produces string literal):\n};\n\n// Normalize Terser options from microbundle's relaxed JSON format (mutates argument in-place)\nfunction normalizeMinifyOptions(minifyOptions) {\n\tconst mangle = minifyOptions.mangle || (minifyOptions.mangle = {});\n\tlet properties = mangle.properties;\n\n\t// allow top-level \"properties\" key to override mangle.properties (including {properties:false}):\n\tif (minifyOptions.properties != null) {\n\t\tproperties = mangle.properties =\n\t\t\tminifyOptions.properties &&\n\t\t\tObject.assign(properties, minifyOptions.properties);\n\t}\n\n\t// allow previous format ({ mangle:{regex:'^_',reserved:[]} }):\n\tif (minifyOptions.regex || minifyOptions.reserved) {\n\t\tif (!properties) properties = mangle.properties = {};\n\t\tproperties.regex = properties.regex || minifyOptions.regex;\n\t\tproperties.reserved = properties.reserved || minifyOptions.reserved;\n\t}\n\n\tif (properties) {\n\t\tif (properties.regex) properties.regex = new RegExp(properties.regex);\n\t\tproperties.reserved = [].concat(properties.reserved || []);\n\t}\n}\n\n// Parses values of the form \"$=jQuery,React=react\" into key-value object pairs.\nconst parseMappingArgument = (globalStrings, processValue) => {\n\tconst globals = {};\n\tglobalStrings.split(',').forEach(globalString => {\n\t\tlet [key, value] = globalString.split('=');\n\t\tif (processValue) {\n\t\t\tconst r = processValue(value, key);\n\t\t\tif (r !== undefined) {\n\t\t\t\tif (Array.isArray(r)) {\n\t\t\t\t\t[value, key] = r;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = r;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tglobals[key] = value;\n\t});\n\treturn globals;\n};\n\n// Extensions to use when resolving modules\nconst EXTENSIONS = ['.ts', '.tsx', '.js', '.jsx', '.es6', '.es', '.mjs'];\n\nconst WATCH_OPTS = {\n\texclude: 'node_modules/**',\n};\n\n// Hoist function because something (rollup?) incorrectly removes it\nfunction formatSize(size, filename, type, raw) {\n\tconst pretty = raw ? `${size} B` : prettyBytes(size);\n\tconst color = size < 5000 ? 'green' : size > 40000 ? 'red' : 'yellow';\n\tconst MAGIC_INDENTATION = type === 'br' ? 13 : 10;\n\treturn `${' '.repeat(MAGIC_INDENTATION - pretty.length)}${chalk[color](\n\t\tpretty,\n\t)}: ${chalk.white(basename(filename))}.${type}`;\n}\n\nexport default async function microbundle(inputOptions) {\n\tlet options = { ...inputOptions };\n\n\toptions.cwd = resolve(process.cwd(), inputOptions.cwd);\n\tconst cwd = options.cwd;\n\n\tconst { hasPackageJson, pkg } = await getConfigFromPkgJson(cwd);\n\toptions.pkg = pkg;\n\n\tconst { finalName, pkgName } = getName({\n\t\tname: options.name,\n\t\tpkgName: options.pkg.name,\n\t\tamdName: options.pkg.amdName,\n\t\thasPackageJson,\n\t\tcwd,\n\t});\n\n\toptions.name = finalName;\n\toptions.pkg.name = pkgName;\n\n\tif (options.sourcemap !== false) {\n\t\toptions.sourcemap = true;\n\t}\n\n\toptions.input = await getInput({\n\t\tentries: options.entries,\n\t\tcwd,\n\t\tsource: options.pkg.source,\n\t\tmodule: options.pkg.module,\n\t});\n\n\toptions.output = await getOutput({\n\t\tcwd,\n\t\toutput: options.output,\n\t\tpkgMain: options.pkg.main,\n\t\tpkgName: options.pkg.name,\n\t});\n\n\toptions.entries = await getEntries({\n\t\tcwd,\n\t\tinput: options.input,\n\t});\n\n\toptions.multipleEntries = options.entries.length > 1;\n\n\tlet formats = (options.format || options.formats).split(',');\n\t// always compile cjs first if it's there:\n\tformats.sort((a, b) => (a === 'cjs' ? -1 : a > b ? 1 : 0));\n\n\tlet steps = [];\n\tfor (let i = 0; i < options.entries.length; i++) {\n\t\tfor (let j = 0; j < formats.length; j++) {\n\t\t\tsteps.push(\n\t\t\t\tcreateConfig(\n\t\t\t\t\toptions,\n\t\t\t\t\toptions.entries[i],\n\t\t\t\t\tformats[j],\n\t\t\t\t\ti === 0 && j === 0,\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t}\n\n\tasync function getSizeInfo(code, filename) {\n\t\tconst raw = options.raw || code.length < 5000;\n\t\tconst gzip = formatSize(await gzipSize(code), filename, 'gz', raw);\n\t\tconst brotli = formatSize(await brotliSize(code), filename, 'br', raw);\n\t\treturn gzip + '\\n' + brotli;\n\t}\n\n\tif (options.watch) {\n\t\tconst onBuild = options.onBuild;\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tstdout(\n\t\t\t\tchalk.blue(\n\t\t\t\t\t`Watching source, compiling to ${relative(\n\t\t\t\t\t\tcwd,\n\t\t\t\t\t\tdirname(options.output),\n\t\t\t\t\t)}:`,\n\t\t\t\t),\n\t\t\t);\n\t\t\tsteps.map(options => {\n\t\t\t\twatch(\n\t\t\t\t\tObject.assign(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toutput: options.outputOptions,\n\t\t\t\t\t\t\twatch: WATCH_OPTS,\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptions.inputOptions,\n\t\t\t\t\t),\n\t\t\t\t).on('event', e => {\n\t\t\t\t\tif (e.code === 'FATAL') {\n\t\t\t\t\t\treturn reject(e.error);\n\t\t\t\t\t} else if (e.code === 'ERROR') {\n\t\t\t\t\t\tlogError(e.error);\n\t\t\t\t\t}\n\t\t\t\t\tif (e.code === 'END') {\n\t\t\t\t\t\tgetSizeInfo(options._code, options.outputOptions.file).then(\n\t\t\t\t\t\t\ttext => {\n\t\t\t\t\t\t\t\tstdout(`Wrote ${text.trim()}`);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (typeof onBuild === 'function') {\n\t\t\t\t\t\t\tonBuild(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tlet cache;\n\tlet out = await series(\n\t\tsteps.map(({ inputOptions, outputOptions }) => async () => {\n\t\t\tinputOptions.cache = cache;\n\t\t\tlet bundle = await rollup(inputOptions);\n\t\t\tcache = bundle;\n\t\t\tconst { code } = await bundle.write(outputOptions);\n\t\t\treturn await getSizeInfo(code, outputOptions.file);\n\t\t}),\n\t);\n\n\treturn (\n\t\tchalk.blue(\n\t\t\t`Build \"${options.name}\" to ${relative(cwd, dirname(options.output)) ||\n\t\t\t\t'.'}:`,\n\t\t) +\n\t\t'\\n   ' +\n\t\tout.join('\\n   ')\n\t);\n}\n\nasync function getConfigFromPkgJson(cwd) {\n\ttry {\n\t\tconst pkgJSON = await readFile(resolve(cwd, 'package.json'), 'utf8');\n\t\tconst pkg = JSON.parse(pkgJSON);\n\n\t\treturn {\n\t\t\thasPackageJson: true,\n\t\t\tpkg,\n\t\t};\n\t} catch (err) {\n\t\tconst pkgName = basename(cwd);\n\n\t\tstderr(\n\t\t\tchalk.yellow(\n\t\t\t\t`${chalk.yellow.inverse(\n\t\t\t\t\t'WARN',\n\t\t\t\t)} no package.json found. Assuming a pkg.name of \"${pkgName}\".`,\n\t\t\t),\n\t\t);\n\n\t\tlet msg = String(err.message || err);\n\t\tif (!msg.match(/ENOENT/)) stderr(`  ${chalk.red.dim(msg)}`);\n\n\t\treturn { hasPackageJson: false, pkg: { name: pkgName } };\n\t}\n}\n\nconst safeVariableName = name =>\n\tcamelCase(\n\t\tremoveScope(name)\n\t\t\t.toLowerCase()\n\t\t\t.replace(/((^[^a-zA-Z]+)|[^\\w.-])|([^a-zA-Z0-9]+$)/g, ''),\n\t);\n\nfunction getName({ name, pkgName, amdName, cwd, hasPackageJson }) {\n\tif (!pkgName) {\n\t\tpkgName = basename(cwd);\n\t\tif (hasPackageJson) {\n\t\t\tstderr(\n\t\t\t\tchalk.yellow(\n\t\t\t\t\t`${chalk.yellow.inverse(\n\t\t\t\t\t\t'WARN',\n\t\t\t\t\t)} missing package.json \"name\" field. Assuming \"${pkgName}\".`,\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t}\n\n\treturn { finalName: name || amdName || safeVariableName(pkgName), pkgName };\n}\n\nasync function jsOrTs(cwd, filename) {\n\tconst extension = (await isFile(resolve(cwd, filename + '.ts')))\n\t\t? '.ts'\n\t\t: (await isFile(resolve(cwd, filename + '.tsx')))\n\t\t? '.tsx'\n\t\t: '.js';\n\n\treturn resolve(cwd, `${filename}${extension}`);\n}\n\nasync function getInput({ entries, cwd, source, module }) {\n\tconst input = [];\n\n\t[]\n\t\t.concat(\n\t\t\tentries && entries.length\n\t\t\t\t? entries\n\t\t\t\t: (source && resolve(cwd, source)) ||\n\t\t\t\t\t\t((await isDir(resolve(cwd, 'src'))) &&\n\t\t\t\t\t\t\t(await jsOrTs(cwd, 'src/index'))) ||\n\t\t\t\t\t\t(await jsOrTs(cwd, 'index')) ||\n\t\t\t\t\t\tmodule,\n\t\t)\n\t\t.map(file => glob(file))\n\t\t.forEach(file => input.push(...file));\n\n\treturn input;\n}\n\nasync function getOutput({ cwd, output, pkgMain, pkgName }) {\n\tlet main = resolve(cwd, output || pkgMain || 'dist');\n\tif (!main.match(/\\.[a-z]+$/) || (await isDir(main))) {\n\t\tmain = resolve(main, `${removeScope(pkgName)}.js`);\n\t}\n\treturn main;\n}\n\nasync function getEntries({ input, cwd }) {\n\tlet entries = (await map([].concat(input), async file => {\n\t\tfile = resolve(cwd, file);\n\t\tif (await isDir(file)) {\n\t\t\tfile = resolve(file, 'index.js');\n\t\t}\n\t\treturn file;\n\t})).filter((item, i, arr) => arr.indexOf(item) === i);\n\treturn entries;\n}\n\nfunction createConfig(options, entry, format, writeMeta) {\n\tlet { pkg } = options;\n\n\tlet external = ['dns', 'fs', 'path', 'url'].concat(\n\t\toptions.entries.filter(e => e !== entry),\n\t);\n\n\tlet outputAliases = {};\n\t// since we transform src/index.js, we need to rename imports for it:\n\tif (options.multipleEntries) {\n\t\toutputAliases['.'] = './' + basename(options.output);\n\t}\n\n\tconst moduleAliases = options.alias\n\t\t? parseMappingArgument(options.alias)\n\t\t: {};\n\n\tconst peerDeps = Object.keys(pkg.peerDependencies || {});\n\tif (options.external === 'none') {\n\t\t// bundle everything (external=[])\n\t} else if (options.external) {\n\t\texternal = external.concat(peerDeps).concat(options.external.split(','));\n\t} else {\n\t\texternal = external\n\t\t\t.concat(peerDeps)\n\t\t\t.concat(Object.keys(pkg.dependencies || {}));\n\t}\n\n\tlet globals = external.reduce((globals, name) => {\n\t\t// valid JS identifiers are usually library globals:\n\t\tif (name.match(/^[a-z_$][a-z0-9_$]*$/)) {\n\t\t\tglobals[name] = name;\n\t\t}\n\t\treturn globals;\n\t}, {});\n\tif (options.globals && options.globals !== 'none') {\n\t\tglobals = Object.assign(globals, parseMappingArgument(options.globals));\n\t}\n\n\tlet defines = {};\n\tif (options.define) {\n\t\tdefines = Object.assign(\n\t\t\tdefines,\n\t\t\tparseMappingArgument(options.define, toTerserLiteral),\n\t\t);\n\t}\n\n\tfunction replaceName(filename, name) {\n\t\treturn resolve(\n\t\t\tdirname(filename),\n\t\t\tname + basename(filename).replace(/^[^.]+/, ''),\n\t\t);\n\t}\n\n\tlet mainNoExtension = options.output;\n\tif (options.multipleEntries) {\n\t\tlet name = entry.match(/([\\\\/])index(\\.(umd|cjs|es|m))?\\.m?js$/)\n\t\t\t? mainNoExtension\n\t\t\t: entry;\n\t\tmainNoExtension = resolve(dirname(mainNoExtension), basename(name));\n\t}\n\tmainNoExtension = mainNoExtension.replace(/(\\.(umd|cjs|es|m))?\\.m?js$/, '');\n\n\tlet moduleMain = replaceName(\n\t\tpkg.module && !pkg.module.match(/src\\//)\n\t\t\t? pkg.module\n\t\t\t: pkg['jsnext:main'] || 'x.mjs',\n\t\tmainNoExtension,\n\t);\n\tlet cjsMain = replaceName(pkg['cjs:main'] || 'x.js', mainNoExtension);\n\tlet umdMain = replaceName(pkg['umd:main'] || 'x.umd.js', mainNoExtension);\n\n\t// let rollupName = safeVariableName(basename(entry).replace(/\\.js$/, ''));\n\n\tlet nameCache = {};\n\tconst bareNameCache = nameCache;\n\t// Support \"minify\" field and legacy \"mangle\" field via package.json:\n\tlet minifyOptions = options.pkg.minify || options.pkg.mangle || {};\n\n\tconst useTypescript = extname(entry) === '.ts' || extname(entry) === '.tsx';\n\n\tconst externalPredicate = new RegExp(`^(${external.join('|')})($|/)`);\n\tconst externalTest =\n\t\texternal.length === 0 ? () => false : id => externalPredicate.test(id);\n\n\tfunction loadNameCache() {\n\t\ttry {\n\t\t\tnameCache = JSON.parse(\n\t\t\t\tfs.readFileSync(resolve(options.cwd, 'mangle.json'), 'utf8'),\n\t\t\t);\n\t\t\t// mangle.json can contain a \"minify\" field, same format as the pkg.mangle:\n\t\t\tif (nameCache.minify) {\n\t\t\t\tminifyOptions = Object.assign(\n\t\t\t\t\t{},\n\t\t\t\t\tminifyOptions || {},\n\t\t\t\t\tnameCache.minify,\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\tloadNameCache();\n\n\tnormalizeMinifyOptions(minifyOptions);\n\n\tif (nameCache === bareNameCache) nameCache = null;\n\n\tlet shebang;\n\n\tlet config = {\n\t\tinputOptions: {\n\t\t\tinput: entry,\n\t\t\texternal: id => {\n\t\t\t\tif (id === 'babel-plugin-transform-async-to-promises/helpers') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (options.multipleEntries && id === '.') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn externalTest(id);\n\t\t\t},\n\t\t\ttreeshake: {\n\t\t\t\tpropertyReadSideEffects: false,\n\t\t\t},\n\t\t\tplugins: []\n\t\t\t\t.concat(\n\t\t\t\t\tpostcss({\n\t\t\t\t\t\tplugins: [\n\t\t\t\t\t\t\tautoprefixer(),\n\t\t\t\t\t\t\toptions.compress !== false &&\n\t\t\t\t\t\t\t\tcssnano({\n\t\t\t\t\t\t\t\t\tpreset: 'default',\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t].filter(Boolean),\n\t\t\t\t\t\t// only write out CSS for the first bundle (avoids pointless extra files):\n\t\t\t\t\t\tinject: false,\n\t\t\t\t\t\textract: !!writeMeta,\n\t\t\t\t\t}),\n\t\t\t\t\tObject.keys(moduleAliases).length > 0 &&\n\t\t\t\t\t\talias(\n\t\t\t\t\t\t\tObject.assign({}, moduleAliases, {\n\t\t\t\t\t\t\t\tresolve: EXTENSIONS,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t),\n\t\t\t\t\tnodeResolve({\n\t\t\t\t\t\tmodule: true,\n\t\t\t\t\t\tjsnext: true,\n\t\t\t\t\t\tbrowser: options.target !== 'node',\n\t\t\t\t\t}),\n\t\t\t\t\tcommonjs({\n\t\t\t\t\t\t// use a regex to make sure to include eventual hoisted packages\n\t\t\t\t\t\tinclude: /\\/node_modules\\//,\n\t\t\t\t\t}),\n\t\t\t\t\tjson(),\n\t\t\t\t\tuseTypescript &&\n\t\t\t\t\t\ttypescript({\n\t\t\t\t\t\t\ttypescript: require('typescript'),\n\t\t\t\t\t\t\tcacheRoot: `./.rts2_cache_${format}`,\n\t\t\t\t\t\t\ttsconfigDefaults: {\n\t\t\t\t\t\t\t\tcompilerOptions: {\n\t\t\t\t\t\t\t\t\tsourceMap: options.sourcemap,\n\t\t\t\t\t\t\t\t\tdeclaration: true,\n\t\t\t\t\t\t\t\t\tjsx: options.jsx,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttsconfigOverride: {\n\t\t\t\t\t\t\t\tcompilerOptions: {\n\t\t\t\t\t\t\t\t\ttarget: 'esnext',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\t\t!useTypescript && flow({ all: true, pretty: true }),\n\t\t\t\t\t// Only used for async await\n\t\t\t\t\tbabel({\n\t\t\t\t\t\t// We mainly use bublé to transpile JS and only use babel to\n\t\t\t\t\t\t// transpile down `async/await`. To prevent conflicts with user\n\t\t\t\t\t\t// supplied configurations we set this option to false. Note\n\t\t\t\t\t\t// that we never supported using custom babel configs anyway.\n\t\t\t\t\t\tbabelrc: false,\n\t\t\t\t\t\textensions: EXTENSIONS,\n\t\t\t\t\t\texclude: 'node_modules/**',\n\t\t\t\t\t\tplugins: [\n\t\t\t\t\t\t\trequire.resolve('@babel/plugin-syntax-jsx'),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\trequire.resolve('babel-plugin-transform-async-to-promises'),\n\t\t\t\t\t\t\t\t{ inlineHelpers: true, externalHelpers: true },\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\trequire.resolve('@babel/plugin-proposal-class-properties'),\n\t\t\t\t\t\t\t\t{ loose: true },\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t\t{\n\t\t\t\t\t\t// Custom plugin that removes shebang from code because newer\n\t\t\t\t\t\t// versions of bublé bundle their own private version of `acorn`\n\t\t\t\t\t\t// and I don't know a way to patch in the option `allowHashBang`\n\t\t\t\t\t\t// to acorn.\n\t\t\t\t\t\t// See: https://github.com/Rich-Harris/buble/pull/165\n\t\t\t\t\t\ttransform(code) {\n\t\t\t\t\t\t\tlet reg = /^#!(.*)/;\n\t\t\t\t\t\t\tlet match = code.match(reg);\n\n\t\t\t\t\t\t\tif (match !== null) {\n\t\t\t\t\t\t\t\tshebang = '#!' + match[0];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcode = code.replace(reg, '');\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tcode,\n\t\t\t\t\t\t\t\tmap: null,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tbuble({\n\t\t\t\t\t\texclude: 'node_modules/**',\n\t\t\t\t\t\tjsx: options.jsx || 'h',\n\t\t\t\t\t\tobjectAssign: options.assign || 'Object.assign',\n\t\t\t\t\t\ttransforms: {\n\t\t\t\t\t\t\tdangerousForOf: true,\n\t\t\t\t\t\t\tdangerousTaggedTemplateString: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t// We should upstream this to rollup\n\t\t\t\t\t// format==='cjs' && replace({\n\t\t\t\t\t// \t[`module.exports = ${rollupName};`]: '',\n\t\t\t\t\t// \t[`var ${rollupName} =`]: 'module.exports ='\n\t\t\t\t\t// }),\n\t\t\t\t\t// This works for the general case, but could cause nasty scope bugs.\n\t\t\t\t\t// format==='umd' && replace({\n\t\t\t\t\t// \t[`return ${rollupName};`]: '',\n\t\t\t\t\t// \t[`var ${rollupName} =`]: 'return'\n\t\t\t\t\t// }),\n\t\t\t\t\t// format==='es' && replace({\n\t\t\t\t\t// \t[`export default ${rollupName};`]: '',\n\t\t\t\t\t// \t[`var ${rollupName} =`]: 'export default'\n\t\t\t\t\t// }),\n\t\t\t\t\toptions.compress !== false && [\n\t\t\t\t\t\tterser({\n\t\t\t\t\t\t\tsourcemap: true,\n\t\t\t\t\t\t\toutput: { comments: false },\n\t\t\t\t\t\t\tcompress: Object.assign(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkeep_infinity: true,\n\t\t\t\t\t\t\t\t\tpure_getters: true,\n\t\t\t\t\t\t\t\t\tglobal_defs: defines,\n\t\t\t\t\t\t\t\t\tpasses: 10,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tminifyOptions.compress || {},\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\twarnings: true,\n\t\t\t\t\t\t\tecma: 5,\n\t\t\t\t\t\t\ttoplevel: format === 'cjs' || format === 'es',\n\t\t\t\t\t\t\tmangle: Object.assign({}, minifyOptions.mangle || {}),\n\t\t\t\t\t\t\tnameCache,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnameCache && {\n\t\t\t\t\t\t\t// before hook\n\t\t\t\t\t\t\toptions: loadNameCache,\n\t\t\t\t\t\t\t// after hook\n\t\t\t\t\t\t\tonwrite() {\n\t\t\t\t\t\t\t\tif (writeMeta && nameCache) {\n\t\t\t\t\t\t\t\t\tfs.writeFile(\n\t\t\t\t\t\t\t\t\t\tresolve(options.cwd, 'mangle.json'),\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(nameCache, null, 2),\n\t\t\t\t\t\t\t\t\t\tObject,\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t{\n\t\t\t\t\t\tongenerate(outputOptions, { code }) {\n\t\t\t\t\t\t\tconfig._code = code;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tshebangPlugin({\n\t\t\t\t\t\tshebang,\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t\t.filter(Boolean),\n\t\t},\n\n\t\toutputOptions: {\n\t\t\tpaths: outputAliases,\n\t\t\tglobals,\n\t\t\tstrict: options.strict === true,\n\t\t\tlegacy: true,\n\t\t\tfreeze: false,\n\t\t\tesModule: false,\n\t\t\tsourcemap: options.sourcemap,\n\t\t\tformat,\n\t\t\tname: options.name,\n\t\t\tfile: resolve(\n\t\t\t\toptions.cwd,\n\t\t\t\t(format === 'es' && moduleMain) ||\n\t\t\t\t\t(format === 'umd' && umdMain) ||\n\t\t\t\t\tcjsMain,\n\t\t\t),\n\t\t},\n\t};\n\n\treturn config;\n}\n"],"names":["fixedFlow","options","plugin","flow","Object","assign","transform","code","id","ret","const","readFile","promisify","fs","stat","isDir","name","then","stats","isDirectory","catch","isFile","stdout","console","log","bind","stderr","error","err","description","message","chalk","bold","red","loc","file","line","column","frame","dim","stack","headlessStack","replace","getEntries","cwd","map","concat","input","resolve","entries","filter","item","i","arr","indexOf","getOutput","output","pkgMain","pkgName","main","removeScope","match","getInput","source","module","glob","forEach","push","jsOrTs","length","filename","extension","getConfigFromPkgJson","pkgJSON","pkg","JSON","parse","hasPackageJson","basename","yellow","inverse","msg","String","microbundle","inputOptions","getSizeInfo","raw","gzipSize","gzip","formatSize","brotliSize","brotli","process","getName","amdName","finalName","sourcemap","multipleEntries","formats","format","split","sort","a","b","steps","let","j","createConfig","watch","onBuild","Promise","reject","blue","relative","dirname","outputOptions","WATCH_OPTS","on","e","logError","_code","text","trim","cache","series","rollup","bundle","write","out","join","toTerserLiteral","value","matches","test","normalizeMinifyOptions","minifyOptions","mangle","properties","regex","reserved","RegExp","parseMappingArgument","globalStrings","processValue","globals","globalString","key","r","undefined","Array","isArray","EXTENSIONS","exclude","size","type","pretty","prettyBytes","color","MAGIC_INDENTATION","repeat","white","safeVariableName","camelCase","toLowerCase","entry","writeMeta","external","outputAliases","moduleAliases","alias","peerDeps","keys","peerDependencies","dependencies","reduce","defines","define","replaceName","mainNoExtension","moduleMain","cjsMain","umdMain","nameCache","bareNameCache","minify","useTypescript","extname","externalPredicate","externalTest","loadNameCache","readFileSync","shebang","config","treeshake","propertyReadSideEffects","plugins","postcss","autoprefixer","compress","cssnano","preset","Boolean","inject","extract","nodeResolve","jsnext","browser","target","commonjs","include","json","typescript","require","cacheRoot","tsconfigDefaults","compilerOptions","sourceMap","declaration","jsx","tsconfigOverride","all","babel","babelrc","extensions","inlineHelpers","externalHelpers","loose","reg","buble","objectAssign","transforms","dangerousForOf","dangerousTaggedTemplateString","terser","comments","keep_infinity","pure_getters","global_defs","passes","warnings","ecma","toplevel","onwrite","writeFile","stringify","ongenerate","shebangPlugin","paths","strict","legacy","freeze","esModule"],"mappings":"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"}